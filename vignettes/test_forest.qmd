---
title: "test_forest"
format: html
editor: visual
---

## Quarto

```{r, echo = FALSE, message = FALSE, warning=FALSE}
devtools::load_all()
```

```{r, eval=FALSE}
 #save.seed <- .Random.seed
 set.seed(1)
 X <- runif(20000, min = 0, max = 2.5) # covariate
 H <- rbinom(20000, 1, 0.1) # hypothesis true or false
 Z <- rnorm(20000, H * X) # Z-score
 folds <- sample(1:5, 20000, replace = TRUE)
#' .Random.seed <- save.seed
pvalue <- 1 - pnorm(Z) # pvalue
groups_inbag_matrices <- group_by_forest(pvalue, as.matrix(X), folds)
```

```{r, eval=FALSE}
groups <- groups_inbag_matrices$groups
inbag_matrices <- groups_inbag_matrices$inbag_matrices
```

```{r}

```

```{r}
 X   <- runif(20000, min=0, max=2.5)   # covariate
 H   <- rbinom(20000,1,0.1)            # hypothesis true or false
 Z   <- rnorm(20000, H*X)              # Z-score
#' .Random.seed <- save.seed
 pvalue <- 1-pnorm(Z)                  # pvalue
#'
 ihw_fdr <- ihw(pvalue, X, .1, stratification_method = "forest")  
```
